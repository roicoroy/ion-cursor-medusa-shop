<!-- Shipping Options Content -->
<div>
  <div *ngIf="!(shipping_options$ | async) || (shipping_options$ | async)?.length === 0" class="no-options">
    <ion-text color="medium">
      <p>Loading shipping options...</p>
    </ion-text>
  </div>
  
  <ion-radio-group [value]="(selected_shipping_method$ | async)?.shipping_option_id" (ionChange)="selectShippingOption($event)" *ngIf="(shipping_options$ | async) as options">
    @for (option of options; track option) {
    <ion-radio justify="space-between" [value]="option">
      <ion-item lines="none">
        <ion-label slot="start">
          <h3>{{ option.name }}</h3>
          <p *ngIf="option.provider">{{ option.provider.id }}</p>
          <p *ngIf="(selected_shipping_method$ | async)?.shipping_option_id === option.id" class="selected-indicator">
            <ion-icon name="checkmark-circle" color="success"></ion-icon>
            Selected
          </p>
        </ion-label>
        <ion-note slot="end">
          <div class="price-info">
            <span class="price">{{ option.calculated_price / 100 | currency:currencyCode }}</span>
            <span class="delivery-time" *ngIf="option.data?.delivery_time">
              {{ option.data.delivery_time }} days
            </span>
          </div>
        </ion-note>
      </ion-item>
    </ion-radio>
    }
  </ion-radio-group>
</div> 